
<div *ngFor="let user of users">

  <button
    mat-button
    class="d-block ps-0"
    *ngFor="let item of user.connections"
    (click)="sendMessageToConnection(item)">
    {{item}}
  </button>

  <div class="d-flex flex-column w-100 p-3 bg-light mt-3" *ngFor="let item of subscriptions">

    <div class="d-flex justify-content-between align-items-center">
      <p class="my-0 fw-bold">{{item}}</p>

      <button
        mat-button
        color="warn"
        (click)="removeSelectedSubscription(item)">
        Remove subscription
      </button>

    </div>

    <div *ngFor="let element of messages;let last=last" class="code">

      <ng-container *ngIf="element.name === item">

        <div class="d-flex justify-content-end align-items-center w-100 mt-3">

          <button
            mat-button
            class="mat-caption"
            color="primary"
            (click)="deleteMessage(element)">
            Remove message
          </button>

        </div>
        <pre class="mb-3 mt-0">{{element.content | json}}</pre>

      </ng-container>

    </div>
  </div>
</div>